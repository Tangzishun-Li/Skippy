# 日历增强功能规格

## 为什么
当前日历缺少一些现代日历应有的核心功能，影响用户体验。需要添加实时时间指示、事件重叠处理、智能提示、待办集成等功能。

## 变更内容
- 添加当前时间指示线（红线）
- 添加事件重叠时并排显示
- 添加智能悬浮提示
- 添加自动滚动到当前时间
- 支持窗口缩放

## 影响范围
- 受影响组件：日历周视图
- 修改文件：
  - `src/renderer/js/core/calendar.js`
  - `src/renderer/css/components/calendar.css`

## 需求说明
### 需求：当前时间指示线
系统必须在周视图中显示一条红线指示当前时间

#### 场景：显示当前时间
- **当** 用户处于周视图
- **则** 每分钟更新一次当前时间指示线
- **则** 红线位置 = (当前小时 + 当前分钟/60 - 6) * 50px + 50px（标题行）
- **则** 红线上有一个红点表示当前精确时间

### 需求：事件重叠处理
当同一时间段有多个课程时，应该并排显示

#### 场景：两节课时间重叠
- **当** 两节课的开始时间或结束时间有交集
- **则** 第一门课 width 设为 50%，left 为 0
- **则** 第二门课 width 设为 50%，left 为 50%
- **则** 两门课都能完整显示

### 需求：智能悬浮提示
鼠标悬停在课程卡片上时显示完整信息

#### 场景：悬停显示完整信息
- **当** 用户鼠标悬停在课程卡片上
- **则** 显示课程完整名称、上课地点、任课老师
- **则** 使用 Tooltip 浮层展示

### 需求：自动滚动到当前时间
切换到周视图时自动滚动到当前时间附近

#### 场景：切换到周视图
- **当** 用户切换到周视图
- **则** 页面自动滚动到当前时间（±1小时范围内）
- **则** 使用 scrollIntoView 或 scrollTop 实现

### 需求：响应式缩放
支持窗口缩放时日历自适应

#### 场景：窗口缩放
- **当** 用户缩放浏览器窗口
- **则** 日历内容自动缩放适应
- **则** 保持可读性
