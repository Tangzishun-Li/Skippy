# 任务列表

## 任务总览

本规格包含9个主要功能增强，按依赖关系排序如下：

## 任务清单

- [x] 任务 1: 问题课程备注功能
  - [x] 1.1: 在课程数据模型中添加备注字段
  - [x] 1.2: 修改前端页面添加备注输入组件
  - [x] 1.3: 实现备注的保存和加载逻辑
  - [x] 1.4: 在课程列表中显示备注图标和内容

- [x] 任务 2: 开课日期字段更名
  - [x] 2.1: 修改添加/编辑课程表单中的字段名称
  - [x] 2.2: 更新相关文案和提示信息

- [x] 任务 3: 日历界面UI优化
  - [x] 3.1: 设计现代化日历界面布局
  - [x] 3.2: 实现月份导航功能
  - [x] 3.3: 添加课程状态颜色标识
  - [x] 3.4: 实现周视图/月视图切换

- [x] 任务 4: 法定节假日自动跳过
  - [x] 4.1: 集成节假日数据源 (holiday-cn)
  - [x] 4.2: 实现节假日检测逻辑
  - [x] 4.3: 修改排课算法自动跳过节假日
  - [x] 4.4: 添加节假日配置界面（可选）

- [x] 任务 5: 添加成功提示
  - [x] 5.1: 实现 toast 通知组件
  - [x] 5.2: 在课程添加成功后触发提示
  - [x] 5.3: 设置2-3秒自动消失

- [x] 任务 6: 课程列表操作指引
  - [x] 6.1: 设计操作指引UI组件
  - [x] 6.2: 添加状态标记操作说明
  - [x] 6.3: 添加备注操作说明
  - [x] 6.4: 实现悬停展开详细说明

- [x] 任务 7: 时间轴式DDL标注
  - [x] 7.1: 重构未来课程标签系统
  - [x] 7.2: 实现时间轴数据模型
  - [x] 7.3: 添加时间轴标注UI组件
  - [x] 7.4: 支持三种标注类型：第X周前、两周之间、第X周后

- [x] 任务 8: Google日历订阅导入
  - [x] 8.1: 创建导入入口界面
  - [x] 8.2: 实现Google日历链接解析
  - [x] 8.3: 获取并解析ICS格式数据
  - [x] 8.4: 转换为本地课程格式

- [x] 任务 9: ICS文件导入
  - [x] 9.1: 添加文件上传组件
  - [x] 9.2: 实现ICS文件解析器
  - [x] 9.3: 处理RRULE重复规则
  - [x] 9.4: 转换为本地课程格式

## 任务依赖关系

- [任务 1] 依赖于现有课程数据模型
- [任务 2] 可与任务1并行进行
- [任务 3] 依赖于现有日历组件
- [任务 4] 依赖于任务2（开课日期）
- [任务 5] 独立于其他任务
- [任务 6] 依赖于任务1（备注功能）
- [任务 7] 依赖于任务3（日历界面）
- [任务 8] 和 [任务 9] 可并行开发，均为导入功能
- [任务 7] 应在任务8和任务9之前完成，以便导入的课程能使用时间轴功能

## 模块化架构

为了方便后续维护和扩展，功能已封装为独立模块：

### 已创建的模块文件

| 模块文件 | 功能说明 |
|---------|---------|
| `src/renderer/js/modules/icsParser.js` | ICS文件解析器 - 解析iCalendar格式文件 |
| `src/renderer/js/modules/googleCalendarImporter.js` | Google日历导入器 - 从Google日历导入课程 |
| `src/renderer/js/modules/holidayService.js` | 节假日服务 - 中国法定节假日数据和处理 |
| `src/renderer/js/modules/importUI.js` | 导入UI组件 - 导入功能的用户界面 |

### 使用方式

在HTML中按顺序引入模块：
```html
<script src="js/modules/icsParser.js"></script>
<script src="js/modules/holidayService.js"></script>
<script src="js/modules/googleCalendarImporter.js"></script>
<script src="js/modules/importUI.js"></script>
<script src="js/script.js"></script>
```
