# 逃课记录软件修复与改进计划

## 问题修复

### 1. 日历逻辑错误
- **问题**：日历一天里面显示了全部课程
- **原因**：在`getCoursesForDate`函数中，对于旧的课程数据结构（没有lesson.date的课程），只检查了星期几是否匹配，没有检查课程的实际上课日期
- **解决方案**：修改`getCoursesForDate`函数，确保只有当目标日期是课程的实际上课日期时，才显示课程

## 功能改进

### 1. 浮窗加号位置调整
- **需求**：记录事件的加号需要在浮窗左上角
- **解决方案**：修改CSS样式，调整加号按钮的位置

### 2. 添加课程删除功能
- **需求**：可以删除课程
- **解决方案**：在课程列表中添加删除按钮，实现删除课程的功能

## 技术实现

### 1. 日历逻辑修复
- **修改`getCoursesForDate`函数**：
  - 对于旧的课程数据结构，检查课程的开始日期
  - 根据课程频率计算实际上课日期
  - 确保只有当目标日期是课程的实际上课日期时，才显示课程

### 2. 浮窗样式调整
- **修改CSS样式**：
  - 调整`.tooltip-edit`的位置，移到左上角
  - 相应调整其他元素的位置

### 3. 课程删除功能
- **修改HTML结构**：在课程项中添加删除按钮
- **修改JavaScript功能**：
  - 添加删除课程的事件监听器
  - 实现删除课程的逻辑
  - 更新课程列表和日历显示

## 预期结果

- **日历逻辑**：课程只显示在实际的上课日期
- **浮窗样式**：加号按钮位于浮窗左上角
- **课程管理**：可以通过删除按钮删除课程

## 实现步骤

1. **修复日历逻辑**：修改`getCoursesForDate`函数
2. **调整浮窗样式**：修改CSS文件
3. **添加删除功能**：修改HTML和JavaScript文件
4. **测试所有功能**：确保修复和改进正常工作